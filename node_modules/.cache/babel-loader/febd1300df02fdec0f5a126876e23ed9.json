{"ast":null,"code":"import _slicedToArray from\"C:/Users/pdcth/Desktop/Tutor-Hepler-Project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useRef,useState,useEffect}from'react';import'./thememenu.css';import{useDispatch}from'react-redux';import ThemeAction from'../../redux/actions/ThemeAction';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var mode_settings=[{id:'light',name:'Light',background:'light-background',class:'theme-mode-light'},{id:'dark',name:'Dark',background:'dark-background',class:'theme-mode-dark'}];var color_settings=[{id:'blue',name:'Blue',background:'blue-color',class:'theme-color-blue'},{id:'red',name:'Red',background:'red-color',class:'theme-color-red'},{id:'cyan',name:'Cyan',background:'cyan-color',class:'theme-color-cyan'},{id:'green',name:'Green',background:'green-color',class:'theme-color-green'},{id:'orange',name:'Orange',background:'orange-color',class:'theme-color-orange'}];var clickOutsideRef=function clickOutsideRef(content_ref,toggle_ref){document.addEventListener('mousedown',function(e){// user click toggle\nif(toggle_ref.current&&toggle_ref.current.contains(e.target)){content_ref.current.classList.toggle('active');}else{// user click outside toggle and content\nif(content_ref.current&&!content_ref.current.contains(e.target)){content_ref.current.classList.remove('active');}}});};var ThemeMenu=function ThemeMenu(){var menu_ref=useRef(null);var menu_toggle_ref=useRef(null);clickOutsideRef(menu_ref,menu_toggle_ref);var setActiveMenu=function setActiveMenu(){return menu_ref.current.classList.add('active');};var closeMenu=function closeMenu(){return menu_ref.current.classList.remove('active');};var _useState=useState('light'),_useState2=_slicedToArray(_useState,2),currMode=_useState2[0],setcurrMode=_useState2[1];var _useState3=useState('blue'),_useState4=_slicedToArray(_useState3,2),currColor=_useState4[0],setcurrColor=_useState4[1];var dispatch=useDispatch();var setMode=function setMode(mode){setcurrMode(mode.id);localStorage.setItem('themeMode',mode.class);dispatch(ThemeAction.setMode(mode.class));};var setColor=function setColor(color){setcurrColor(color.id);localStorage.setItem('colorMode',color.class);dispatch(ThemeAction.setColor(color.class));};useEffect(function(){var themeClass=mode_settings.find(function(e){return e.class===localStorage.getItem('themeMode','theme-mode-light');});var colorClass=color_settings.find(function(e){return e.class===localStorage.getItem('colorMode','theme-mode-light');});if(themeClass!==undefined)setcurrMode(themeClass.id);if(colorClass!==undefined)setcurrColor(colorClass.id);},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{ref:menu_toggle_ref,className:\"dropdown__toggle\",onClick:function onClick(){return setActiveMenu();},children:/*#__PURE__*/_jsx(\"i\",{className:\"bx bx-palette\"})}),/*#__PURE__*/_jsxs(\"div\",{ref:menu_ref,className:\"theme-menu\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Theme settings\"}),/*#__PURE__*/_jsx(\"button\",{className:\"theme-menu__close\",onClick:function onClick(){return closeMenu();},children:/*#__PURE__*/_jsx(\"i\",{className:\"bx bx-x\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"theme-menu__select\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Choose mode\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"mode-list\",children:mode_settings.map(function(item,index){return/*#__PURE__*/_jsxs(\"li\",{onClick:function onClick(){return setMode(item);},children:[/*#__PURE__*/_jsx(\"div\",{className:\"mode-list__color \".concat(item.background,\" \").concat(item.id===currMode?'active':''),children:/*#__PURE__*/_jsx(\"i\",{className:\"bx bx-check\"})}),/*#__PURE__*/_jsx(\"span\",{children:item.name})]},index);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"theme-menu__select\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Choose color\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"mode-list\",children:color_settings.map(function(item,index){return/*#__PURE__*/_jsxs(\"li\",{onClick:function onClick(){return setColor(item);},children:[/*#__PURE__*/_jsx(\"div\",{className:\"mode-list__color \".concat(item.background,\" \").concat(item.id===currColor?'active':''),children:/*#__PURE__*/_jsx(\"i\",{className:\"bx bx-check\"})}),/*#__PURE__*/_jsx(\"span\",{children:item.name})]},index);})})]})]})]});};export default ThemeMenu;","map":{"version":3,"sources":["C:/Users/pdcth/Desktop/Tutor-Hepler-Project/src/components/thememenu/ThemeMenu.jsx"],"names":["React","useRef","useState","useEffect","useDispatch","ThemeAction","mode_settings","id","name","background","class","color_settings","clickOutsideRef","content_ref","toggle_ref","document","addEventListener","e","current","contains","target","classList","toggle","remove","ThemeMenu","menu_ref","menu_toggle_ref","setActiveMenu","add","closeMenu","currMode","setcurrMode","currColor","setcurrColor","dispatch","setMode","mode","localStorage","setItem","setColor","color","themeClass","find","getItem","colorClass","undefined","map","item","index"],"mappings":"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","sourcesContent":["import React, {useRef, useState, useEffect} from 'react'\r\n\r\nimport './thememenu.css'\r\n\r\nimport { useDispatch } from 'react-redux'\r\n\r\nimport ThemeAction from '../../redux/actions/ThemeAction'\r\n\r\nconst mode_settings = [\r\n    {\r\n        id: 'light',\r\n        name: 'Light',\r\n        background: 'light-background',\r\n        class: 'theme-mode-light'\r\n    },\r\n    {\r\n        id: 'dark',\r\n        name: 'Dark',\r\n        background: 'dark-background',\r\n        class: 'theme-mode-dark'\r\n    }\r\n]\r\n\r\nconst color_settings = [\r\n    {\r\n        id: 'blue',\r\n        name: 'Blue',\r\n        background: 'blue-color',\r\n        class: 'theme-color-blue'\r\n    },\r\n    {\r\n        id: 'red',\r\n        name: 'Red',\r\n        background: 'red-color',\r\n        class: 'theme-color-red'\r\n    },\r\n    {\r\n        id: 'cyan',\r\n        name: 'Cyan',\r\n        background: 'cyan-color',\r\n        class: 'theme-color-cyan'\r\n    },\r\n    {\r\n        id: 'green',\r\n        name: 'Green',\r\n        background: 'green-color',\r\n        class: 'theme-color-green'\r\n    },\r\n    {\r\n        id: 'orange',\r\n        name: 'Orange',\r\n        background: 'orange-color',\r\n        class: 'theme-color-orange'\r\n    },\r\n]\r\n\r\nconst clickOutsideRef = (content_ref, toggle_ref) => {\r\n    document.addEventListener('mousedown', (e) => {\r\n        // user click toggle\r\n        if (toggle_ref.current && toggle_ref.current.contains(e.target)) {\r\n            content_ref.current.classList.toggle('active')\r\n        } else {\r\n            // user click outside toggle and content\r\n            if (content_ref.current && !content_ref.current.contains(e.target)) {\r\n                content_ref.current.classList.remove('active')\r\n            }\r\n        }\r\n    })\r\n}\r\n\r\nconst ThemeMenu = () => {\r\n\r\n    const menu_ref = useRef(null)\r\n    const menu_toggle_ref = useRef(null)\r\n\r\n    clickOutsideRef(menu_ref, menu_toggle_ref)\r\n\r\n    const setActiveMenu = () => menu_ref.current.classList.add('active')\r\n\r\n    const closeMenu = () => menu_ref.current.classList.remove('active')\r\n\r\n    const [currMode, setcurrMode] = useState('light')\r\n\r\n    const [currColor, setcurrColor] = useState('blue')\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const setMode = mode => {\r\n        setcurrMode(mode.id)\r\n        localStorage.setItem('themeMode', mode.class)\r\n        dispatch(ThemeAction.setMode(mode.class))\r\n    }\r\n\r\n    const setColor = color => {\r\n        setcurrColor(color.id)\r\n        localStorage.setItem('colorMode', color.class)\r\n        dispatch(ThemeAction.setColor(color.class))\r\n    }\r\n\r\n    useEffect(() => {\r\n        const themeClass = mode_settings.find(e => e.class === localStorage.getItem('themeMode', 'theme-mode-light'))\r\n\r\n        const colorClass = color_settings.find(e => e.class === localStorage.getItem('colorMode', 'theme-mode-light'))\r\n\r\n        if (themeClass !== undefined) setcurrMode(themeClass.id)\r\n\r\n        if (colorClass !== undefined) setcurrColor(colorClass.id)\r\n\r\n    }, []);\r\n\r\n    return (\r\n        <div>\r\n            <button ref={menu_toggle_ref} className=\"dropdown__toggle\" onClick={() => setActiveMenu()}>\r\n                <i className='bx bx-palette'></i>\r\n            </button>\r\n            <div ref={menu_ref} className=\"theme-menu\">\r\n                <h4>Theme settings</h4>\r\n                <button className=\"theme-menu__close\" onClick={() => closeMenu()}>\r\n                    <i className='bx bx-x'></i>\r\n                </button>\r\n                <div className=\"theme-menu__select\">\r\n                    <span>Choose mode</span>\r\n                    <ul className=\"mode-list\">\r\n                        {\r\n                            mode_settings.map((item, index) => (\r\n                                <li key={index} onClick={() => setMode(item)}>\r\n                                    <div className={`mode-list__color ${item.background} ${item.id === currMode ? 'active' : ''}`}>\r\n                                        <i className='bx bx-check'></i>\r\n                                    </div>\r\n                                    <span>{item.name}</span>\r\n                                </li>\r\n                            ))\r\n                        }\r\n                    </ul>\r\n                </div>\r\n                <div className=\"theme-menu__select\">\r\n                    <span>Choose color</span>\r\n                    <ul className=\"mode-list\">\r\n                        {\r\n                            color_settings.map((item, index) => (\r\n                                <li key={index} onClick={() => setColor(item)}>\r\n                                    <div className={`mode-list__color ${item.background} ${item.id === currColor ? 'active' : ''}`}>\r\n                                        <i className='bx bx-check'></i>\r\n                                    </div>\r\n                                    <span>{item.name}</span>\r\n                                </li>\r\n                            ))\r\n                        }\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ThemeMenu\r\n"]},"metadata":{},"sourceType":"module"}